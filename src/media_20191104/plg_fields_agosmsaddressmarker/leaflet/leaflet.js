!function(t,i){'object'==typeof exports&&'undefined'!=typeof module?i(exports):'function'==typeof define&&define.amd?define(['exports'],i):i(t.L={})}(this,function(t){'use strict';function u(t){var e,i,o,n;for(i=1,o=arguments.length;i<o;i++){n=arguments[i];for(e in n)t[e]=n[e]};return t};function l(t,i){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var n=e.call(arguments,2);return function(){return t.apply(i,n.length?n.concat(e.call(arguments)):arguments)}};function a(t){return t._leaflet_id=t._leaflet_id||++sn,t._leaflet_id};function ci(t,i,e){var o,n,s,r;return r=function(){o=!1,n&&(s.apply(e,n),n=!1)},s=function(){o?n=arguments:(t.apply(e,arguments),setTimeout(r,i),o=!0)}};function Q(t,i,e){var s=i[1],n=i[0],o=s-n;return t===s&&e?t:((t-n)%o+o)%o+n};function w(){return!1};function j(t,i){var e=Math.pow(10,void 0===i?6:i);return Math.round(t*e)/e};function mi(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,'')};function dt(t){return mi(t).split(/\s+/)};function c(t,i){t.hasOwnProperty('options')||(t.options=t.options?jt(t.options):{});for(var e in i)t.options[e]=i[e];return t.options};function Je(t,i,e){var o=[];for(var n in t)o.push(encodeURIComponent(e?n.toUpperCase():n)+'='+encodeURIComponent(t[n]));return(i&&-1!==i.indexOf('?')?'&':'?')+o.join('&')};function qe(t,i){return t.replace(In,function(t,e){var n=i[e];if(void 0===n)throw new Error('No value provided for variable '+t);return'function'==typeof n&&(n=n(i)),n})};function Ke(t,i){for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1};function vi(t){return window['webkit'+t]||window['moz'+t]||window['ms'+t]};function Xe(t){var i=+new Date,e=Math.max(0,16-(i-on));return on=i+e,window.setTimeout(t,e)};function x(t,i,e){if(!e||si!==Xe)return si.call(window,l(t,i));t.call(i)};function b(t){t&&Ye.call(window,t)};function F(){};function pn(t){if('undefined'!=typeof L&&L&&L.Mixin){t=N(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn('Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.',(new Error).stack)}};function i(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i};function n(t,e,n){return t instanceof i?t:N(t)?new i(t[0],t[1]):void 0===t||null===t?t:'object'==typeof t&&'x'in t&&'y'in t?new i(t.x,t.y):new i(t,e,n)};function f(t,i){if(t)for(var n=i?[t,i]:t,e=0,o=n.length;e<o;e++)this.extend(n[e])};function k(t,i){return!t||t instanceof f?t:new f(t,i)};function P(t,i){if(t)for(var n=i?[t,i]:t,e=0,o=n.length;e<o;e++)this.extend(n[e])};function y(t,i){return t instanceof P?t:new P(t,i)};function h(t,i,e){if(isNaN(t)||isNaN(i))throw new Error('Invalid LatLng object: ('+t+', '+i+')');this.lat=+t,this.lng=+i,void 0!==e&&(this.alt=+e)};function p(t,i,e){return t instanceof h?t:N(t)&&'object'!=typeof t[0]?3===t.length?new h(t[0],t[1],t[2]):2===t.length?new h(t[0],t[1]):null:void 0===t||null===t?t:'object'==typeof t&&'lat'in t?new h(t.lat,'lng'in t?t.lng:t.lon,t.alt):void 0===i?null:new h(t,i,e)};function Ti(t,i,e,n){if(N(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=i,this._c=e,this._d=n};function zt(t,i,e,n){return new Ti(t,i,e,n)};function tn(t){return document.createElementNS('http://www.w3.org/2000/svg',t)};function ge(t,i){var n,e,r,a,h,o,s='';for(n=0,r=t.length;n<r;n++){for(e=0,a=(h=t[n]).length;e<a;e++)o=h[e],s+=(e?'L':'M')+o.x+' '+o.y;s+=i?Ht?'z':'x':''};return s||'M0 0'};function I(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0};function Cn(t,i,e,n){return'touchstart'===i?gn(t,e,n):'touchmove'===i?dn(t,e,n):'touchend'===i&&cn(t,e,n),this};function vn(t,i,e){var n=t['_leaflet_'+i+e];return'touchstart'===i?t.removeEventListener(Ri,n,!1):'touchmove'===i?t.removeEventListener(Ni,n,!1):'touchend'===i&&(t.removeEventListener(Di,n,!1),t.removeEventListener(Fi,n,!1)),this};function gn(t,i,e){var n=l(function(t){if('mouse'!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Mn.indexOf(t.target.tagName)<0))return;M(t)};wi(t,i)});t['_leaflet_touchstart'+e]=n,t.addEventListener(Ri,n,!1),Qe||(document.documentElement.addEventListener(Ri,fn,!0),document.documentElement.addEventListener(Ni,mn,!0),document.documentElement.addEventListener(Di,me,!0),document.documentElement.addEventListener(Fi,me,!0),Qe=!0)};function fn(t){ft[t.pointerId]=t,Si++};function mn(t){ft[t.pointerId]&&(ft[t.pointerId]=t)};function me(t){delete ft[t.pointerId],Si--};function wi(t,i){t.touches=[];for(var e in ft)t.touches.push(ft[e]);t.changedTouches=[t],i(t)};function dn(t,i,e){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&'mouse'!==t.pointerType||0!==t.buttons)&&wi(t,i)};t['_leaflet_touchmove'+e]=n,t.addEventListener(Ni,n,!1)};function cn(t,i,e){var n=function(t){wi(t,i)};t['_leaflet_touchend'+e]=n,t.addEventListener(Di,n,!1),t.addEventListener(Fi,n,!1)};function ue(t,i,e){function r(t){var e;if(B){if(!Pt||'mouse'===t.pointerType)return;e=Si}
else e=t.touches.length;if(!(e>1)){var i=Date.now(),r=i-(o||i);n=t.touches?t.touches[0]:t,s=r>0&&r<=h,o=i}};function a(t){if(s&&!n.cancelBubble){if(B){if(!Pt||'mouse'===t.pointerType)return;var e,r,a={};for(r in n)e=n[r],a[r]=e&&e.bind?e.bind(n):e;n=a};n.type='dblclick',i(n),o=null}};var o,n,s=!1,h=250;return t[ut+Ft+e]=r,t[ut+Dt+e]=a,t[ut+'dblclick'+e]=i,t.addEventListener(Ft,r,!1),t.addEventListener(Dt,a,!1),t.addEventListener('dblclick',i,!1),this};function ce(t,i){var e=t[ut+Ft+i],n=t[ut+Dt+i],o=t[ut+'dblclick'+i];return t.removeEventListener(Ft,e,!1),t.removeEventListener(Dt,n,!1),Pt||t.removeEventListener('dblclick',o,!1),this};function de(t){return'string'==typeof t?document.getElementById(t):t};function Ot(t,i){var e=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!e||'auto'===e)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);e=n?n[i]:null};return'auto'===e?null:e};function r(t,i,e){var n=document.createElement(t);return n.className=i||'',e&&e.appendChild(n),n};function d(t){var i=t.parentNode;i&&i.removeChild(t)};function ri(t){for(;t.firstChild;)t.removeChild(t.firstChild)};function xt(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)};function yt(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)};function gi(t,i){if(void 0!==t.classList)return t.classList.contains(i);var e=Vt(t);return e.length>0&&new RegExp('(^|\\s)'+i+'(\\s|$)').test(e)};function e(t,i){if(void 0!==t.classList)for(var o=dt(i),e=0,s=o.length;e<s;e++)t.classList.add(o[e]);else if(!gi(t,i)){var n=Vt(t);Hi(t,(n?n+' ':'')+i)}};function m(t,i){void 0!==t.classList?t.classList.remove(i):Hi(t,mi((' '+Vt(t)+' ').replace(' '+i+' ',' ')))};function Hi(t,i){void 0===t.className.baseVal?t.className=i:t.className.baseVal=i};function Vt(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal};function S(t,i){'opacity'in t.style?t.style.opacity=i:'filter'in t.style&&Tn(t,i)};function Tn(t,i){var e=!1,o='DXImageTransform.Microsoft.Alpha';try{e=t.filters.item(o)}catch(n){if(1===i)return};i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=' progid:'+o+'(opacity='+i+')'};function Wt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1};function et(t,e,n){var o=e||new i(0,0);t.style[Ki]=(Ei?'translate('+o.x+'px,'+o.y+'px)':'translate3d('+o.x+'px,'+o.y+'px,0)')+(n?' scale('+n+')':'')};function v(t,i){t._leaflet_pos=i,z?et(t,i):(t.style.left=i.x+'px',t.style.top=i.y+'px')};function K(t){return t._leaflet_pos||new i(0,0)};function pi(){o(window,'dragstart',M)};function zi(){g(window,'dragstart',M)};function ki(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ii(),ei=t,Xi=t.style.outline,t.style.outline='none',o(window,'keydown',ii))};function ii(){ei&&(ei.style.outline=Xi,ei=void 0,Xi=void 0,g(window,'keydown',ii))};function oe(t){do{t=t.parentNode}
while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t};function Bi(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}};function o(t,i,e,n){if('object'==typeof i)for(var s in i)oi(t,s,i[s],e);else for(var o=0,r=(i=dt(i)).length;o<r;o++)oi(t,i[o],e,n);return this};function g(t,i,e,n){if('object'==typeof i)for(var r in i)qi(t,r,i[r],e);else if(i)for(var o=0,a=(i=dt(i)).length;o<a;o++)qi(t,i[o],e,n);else{for(var s in t[E])qi(t,s,t[E][s]);delete t[E]};return this};function oi(t,i,e,n){var s=i+a(e)+(n?'_'+a(n):'');if(t[E]&&t[E][s])return this;var o=function(i){return e.call(n||t,i||window.event)},r=o;B&&0===i.indexOf('touch')?Cn(t,i,o,s):!D||'dblclick'!==i||!ue||B&&Lt?'addEventListener'in t?'mousewheel'===i?t.addEventListener('onwheel'in t?'wheel':'mousewheel',o,!1):'mouseenter'===i||'mouseleave'===i?(o=function(i){i=i||window.event,Xt(t,i)&&r(i)},t.addEventListener('mouseenter'===i?'mouseover':'mouseout',o,!1)):('click'===i&&ct&&(o=function(t){Dn(t,r)}),t.addEventListener(i,o,!1)):'attachEvent'in t&&t.attachEvent('on'+i,o):ue(t,o,s),t[E]=t[E]||{},t[E][s]=o};function qi(t,i,e,n){var o=i+a(e)+(n?'_'+a(n):''),s=t[E]&&t[E][o];if(!s)return this;B&&0===i.indexOf('touch')?vn(t,i,o):!D||'dblclick'!==i||!ce||B&&Lt?'removeEventListener'in t?'mousewheel'===i?t.removeEventListener('onwheel'in t?'wheel':'mousewheel',s,!1):t.removeEventListener('mouseenter'===i?'mouseover':'mouseleave'===i?'mouseout':i,s,!1):'detachEvent'in t&&t.detachEvent('on'+i,s):ce(t,o),t[E][o]=null};function tt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,ai(t),this};function Ui(t){return oi(t,'mousewheel',tt),this};function kt(t){return o(t,'mousedown touchstart dblclick',tt),oi(t,'click',Mi),this};function M(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this};function O(t){return M(t),tt(t),this};function ie(t,e){if(!e)return new i(t.clientX,t.clientY);var n=Bi(e),o=n.boundingClientRect;return new i((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)};function ee(t){return Pt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/kn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0};function Mi(t){Yi[t.type]=!0};function ai(t){var i=Yi[t.type];return Yi[t.type]=!1,i};function Xt(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(n){return!1};return e!==t};function Dn(t,i){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,e=Qi&&n-Qi;e&&e>100&&e<500||t.target._simulatedClick&&!t._simulated?O(t):(Qi=n,i(t))};function le(t,i){if(!i||!t.length)return t.slice();var e=i*i;return t=yn(t,e),t=wn(t,e)};function pe(t,i,e){return Math.sqrt(Rt(t,i,e,!0))};function wn(t,i){var n=t.length,o=new(typeof Uint8Array!=void 0+''?Uint8Array:Array)(n);o[0]=o[n-1]=1,di(t,o,i,0,n-1);var e,s=[];for(e=0;e<n;e++)o[e]&&s.push(t[e]);return s};function di(t,i,e,n,o){var r,s,h,a=0;for(s=n+1;s<=o-1;s++)(h=Rt(t[s],t[n],t[o],!0))>a&&(r=s,a=h);a>e&&(i[r]=1,di(t,i,e,n,r),di(t,i,e,r,o))};function yn(t,i){for(var n=[t[0]],e=1,o=0,s=t.length;e<s;e++)rn(t[e],t[o])>i&&(n.push(t[e]),o=e);return o<s-1&&n.push(t[s-1]),n};function se(t,i,e,n,r){var u,a,h,o=n?Se:nt(t,e),s=nt(i,e);for(Se=s;;){if(!(o|s))return[t,i];if(o&s)return!1;h=nt(a=Qt(t,i,u=o||s,e,r),e),u===o?(t=a,o=h):(i=a,s=h)}};function Qt(t,e,n,o,a){var s,r,h=e.x-t.x,u=e.y-t.y,l=o.min,c=o.max;return 8&n?(s=t.x+h*(c.y-t.y)/u,r=c.y):4&n?(s=t.x+h*(l.y-t.y)/u,r=l.y):2&n?(s=c.x,r=t.y+u*(c.x-t.x)/h):1&n&&(s=l.x,r=t.y+u*(l.x-t.x)/h),new i(s,r,a)};function nt(t,i){var e=0;return t.x<i.min.x?e|=1:t.x>i.max.x&&(e|=2),t.y<i.min.y?e|=4:t.y>i.max.y&&(e|=8),e};function rn(t,i){var e=i.x-t.x,n=i.y-t.y;return e*e+n*n};function Rt(t,e,n,o){var u,a=e.x,h=e.y,s=n.x-a,r=n.y-h,l=s*s+r*r;return l>0&&((u=((t.x-a)*s+(t.y-h)*r)/l)>1?(a=n.x,h=n.y):u>0&&(a+=s*u,h+=r*u)),s=t.x-a,r=t.y-h,o?s*s+r*r:new i(a,h)};function W(t){return!N(t[0])||'object'!=typeof t[0][0]&&void 0!==t[0][0]};function he(t){return console.warn('Deprecated use of _flat, please use L.LineUtil.isFlat instead.'),W(t)};function te(t,i,e){var r,n,c,u,a,h,l,o,s,d=[1,4,2,8];for(n=0,l=t.length;n<l;n++)t[n]._code=nt(t[n],i);for(u=0;u<4;u++){for(o=d[u],r=[],n=0,c=(l=t.length)-1;n<l;c=n++)a=t[n],h=t[c],a._code&o?h._code&o||((s=Qt(h,a,o,i,e))._code=nt(s,i),r.push(s)):(h._code&o&&((s=Qt(h,a,o,i,e))._code=nt(s,i),r.push(s)),r.push(a));t=r};return t};function Pi(t,i){var o,r,e,a,n='Feature'===t.type?t.geometry:t,s=n?n.coordinates:null,h=[],u=i&&i.pointToLayer,l=i&&i.coordsToLatLng||Li;if(!s&&!n)return null;switch(n.type){case'Point':return o=l(s),u?u(t,o):new Nt(o);case'MultiPoint':for(e=0,a=s.length;e<a;e++)o=l(s[e]),h.push(u?u(t,o):new Nt(o));return new it(h);case'LineString':case'MultiLineString':return r=Yt(s,'LineString'===n.type?0:1,l),new q(r,i);case'Polygon':case'MultiPolygon':return r=Yt(s,'Polygon'===n.type?1:2,l),new gt(r,i);case'GeometryCollection':for(e=0,a=n.geometries.length;e<a;e++){var c=Pi({geometry:n.geometries[e],type:'Feature',properties:t.properties},i);c&&h.push(c)};return new it(h);default:throw new Error('Invalid GeoJSON object.')}};function Li(t){return new h(t[1],t[0],t[2])};function Yt(t,i,e){for(var o,s=[],n=0,r=t.length;n<r;n++)o=i?Yt(t[n],i-1,e):(e||Li)(t[n]),s.push(o);return s};function bi(t,i){return i='number'==typeof i?i:6,void 0!==t.alt?[j(t.lng,i),j(t.lat,i),j(t.alt,i)]:[j(t.lng,i),j(t.lat,i)]};function ni(t,i,e,n){for(var o=[],s=0,r=t.length;s<r;s++)o.push(i?ni(t[s],i-1,e,n):bi(t[s],n));return!i&&e&&o.push(o[0]),o};function st(t,i){return t.feature?u({},t.feature,{geometry:i}):Gt(i)};function Gt(t){return'Feature'===t.type||'FeatureCollection'===t.type?t:{type:'Feature',properties:{},geometry:t}};function ne(t,i){return new U(t,i)};function ae(t,i){return new mt(t,i)};function re(t){return nn?new Ae(t):null};function Ue(t){return Ht||Ut?new At(t):null};var en=Object.freeze;Object.freeze=function(t){return t};var jt=Object.create||function(){function t(){};return function(i){return t.prototype=i,new t}}(),sn=0,In=/\{ *([\w_-]+) *\}/g,N=Array.isArray||function(t){return'[object Array]'===Object.prototype.toString.call(t)},qt='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=',on=0,si=window.requestAnimationFrame||vi('RequestAnimationFrame')||Xe,Ye=window.cancelAnimationFrame||vi('CancelAnimationFrame')||vi('CancelRequestAnimationFrame')||function(t){window.clearTimeout(t)},hn=(Object.freeze||Object)({freeze:en,extend:u,create:jt,bind:l,lastId:sn,stamp:a,throttle:ci,wrapNum:Q,falseFn:w,formatNum:j,trim:mi,splitWords:dt,setOptions:c,getParamString:Je,template:qe,isArray:N,indexOf:Ke,emptyImageUrl:qt,requestFn:si,cancelFn:Ye,requestAnimFrame:x,cancelAnimFrame:b});F.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,i=jt(o);i.constructor=e,e.prototype=i;for(var n in this)this.hasOwnProperty(n)&&'prototype'!==n&&'__super__'!==n&&(e[n]=this[n]);return t.statics&&(u(e,t.statics),delete t.statics),t.includes&&(pn(t.includes),u.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=u(jt(i.options),t.options)),u(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},F.include=function(t){return u(this.prototype,t),this},F.mergeOptions=function(t){return u(this.prototype.options,t),this},F.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e='function'==typeof t?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var T={on:function(t,i,e){if('object'==typeof t)for(var o in t)this._on(o,t[o],i);else for(var n=0,s=(t=dt(t)).length;n<s;n++)this._on(t[n],i,e);return this},off:function(t,i,e){if(t)if('object'==typeof t)for(var o in t)this._off(o,t[o],i);else for(var n=0,s=(t=dt(t)).length;n<s;n++)this._off(t[n],i,e);else delete this._events;return this},_on:function(t,i,e){this._events=this._events||{};var s=this._events[t];s||(s=[],this._events[t]=s),e===this&&(e=void 0);for(var r={fn:i,ctx:e},n=s,o=0,a=n.length;o<a;o++)if(n[o].fn===i&&n[o].ctx===e)return;n.push(r)},_off:function(t,i,e){var n,o,s;if(this._events&&(n=this._events[t]))if(i){if(e===this&&(e=void 0),n)for(o=0,s=n.length;o<s;o++){var r=n[o];if(r.ctx===e&&r.fn===i)return r.fn=w,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}
else{for(o=0,s=n.length;o<s;o++)n[o].fn=w;delete this._events[t]}},fire:function(t,i,e){if(!this.listens(t,e))return this;var r=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var n=0,a=o.length;n<a;n++){var s=o[n];s.fn.call(s.ctx||this,r)};this._firingCount--}};return e&&this._propagateEvent(r),this},listens:function(t,i){var e=this._events&&this._events[t];if(e&&e.length)return!0;if(i)for(var n in this._eventParents)if(this._eventParents[n].listens(t,i))return!0;return!1},once:function(t,i,e){if('object'==typeof t){for(var o in t)this.once(o,t[o],i);return this};var n=l(function(){this.off(t,i,e).off(t,n,e)},this);return this.on(t,i,e).on(t,n,e)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var Bt=F.extend(T),Ge=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(n(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(n(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new i(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new i(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ge(this.x),this.y=Ge(this.y),this},distanceTo:function(t){var i=(t=n(t)).x-this.x,e=t.y-this.y;return Math.sqrt(i*i+e*e)},equals:function(t){return(t=n(t)).x===this.x&&t.y===this.y},contains:function(t){return t=n(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return'Point('+j(this.x)+', '+j(this.y)+')'}},f.prototype={extend:function(t){return t=n(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i(this.min.x,this.max.y)},getTopRight:function(){return new i(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,o;return(t='number'==typeof t[0]||t instanceof i?n(t):k(t))instanceof f?(e=t.min,o=t.max):e=o=t,e.x>=this.min.x&&o.x<=this.max.x&&e.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=k(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>=i.x&&n.x<=e.x,r=o.y>=i.y&&n.y<=e.y;return s&&r},overlaps:function(t){t=k(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>i.x&&n.x<e.x,r=o.y>i.y&&n.y<e.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},P.prototype={extend:function(t){var i,e,n=this._southWest,o=this._northEast;if(t instanceof h)i=t,e=t;else{if(!(t instanceof P))return t?this.extend(p(t)||y(t)):this;if(i=t._southWest,e=t._northEast,!i||!e)return this};return n||o?(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new h(i.lat,i.lng),this._northEast=new h(e.lat,e.lng)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,o=Math.abs(i.lng-e.lng)*t;return new P(new h(i.lat-n,i.lng-o),new h(e.lat+n,e.lng+o))},getCenter:function(){return new h((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new h(this.getNorth(),this.getWest())},getSouthEast:function(){return new h(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t='number'==typeof t[0]||t instanceof h||'lat'in t?p(t):y(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof P?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat>=n.lat&&e.lat<=o.lat&&i.lng>=n.lng&&e.lng<=o.lng},intersects:function(t){t=y(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=i.lat&&n.lat<=e.lat,r=o.lng>=i.lng&&n.lng<=e.lng;return s&&r},overlaps:function(t){t=y(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>i.lat&&n.lat<e.lat,r=o.lng>i.lng&&n.lng<e.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',')},equals:function(t,i){return!!t&&(t=y(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}},h.prototype={equals:function(t,i){return!!t&&(t=p(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===i?1e-9:i))},toString:function(t){return'LatLng('+j(this.lat,t)+', '+j(this.lng,t)+')'},distanceTo:function(t){return Y.distance(this,p(t))},wrap:function(){return Y.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,e=i/Math.cos(Math.PI/180*this.lat);return y([this.lat-i,this.lng-e],[this.lat+i,this.lng+e])},clone:function(){return new h(this.lat,this.lng,this.alt)}};var H={latLngToPoint:function(t,i){var e=this.projection.project(t),n=this.scale(i);return this.transformation._transform(e,n)},pointToLatLng:function(t,i){var e=this.scale(i),n=this.transformation.untransform(t,e);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,e=this.scale(t);return new f(this.transformation.transform(i.min,e),this.transformation.transform(i.max,e))},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?Q(t.lng,this.wrapLng,!0):t.lng;return new h(this.wrapLat?Q(t.lat,this.wrapLat,!0):t.lat,i,t.alt)},wrapLatLngBounds:function(t){var i=t.getCenter(),r=this.wrapLatLng(i),e=i.lat-r.lat,n=i.lng-r.lng;if(0===e&&0===n)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new P(new h(o.lat-e,o.lng-n),new h(s.lat-e,s.lng-n))}},Y=u({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var e=Math.PI/180,r=t.lat*e,a=i.lat*e,n=Math.sin((i.lat-t.lat)*e/2),o=Math.sin((i.lng-t.lng)*e/2),s=n*n+Math.cos(r)*Math.cos(a)*o*o,h=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*h}}),Gi={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,s=Math.max(Math.min(n,t.lat),-n),o=Math.sin(s*e);return new i(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var i=180/Math.PI;return new h((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=6378137*Math.PI;return new f([-t,-t],[t,t])}()};Ti.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Mt,Tt,Vi,Ji=u({},Y,{code:'EPSG:3857',projection:Gi,transformation:function(){var t=.5/(Math.PI*Gi.R);return zt(t,.5,-t,.5)}()}),Sn=u({},Ji,{code:'EPSG:900913'}),Wi=document.documentElement.style,Jt='ActiveXObject'in window,at=Jt&&!document.addEventListener,Pt='msLaunchUri'in navigator&&!('documentMode'in document),Oi=I('webkit'),ct=I('android'),wt=I('android 2')||I('android 3'),jn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pe=ct&&I('Google')&&jn<537&&!('AudioNode'in window),Ii=!!window.opera,Lt=I('chrome'),Ai=I('gecko')&&!Oi&&!Ii&&!Jt,we=!Lt&&I('safari'),xe=I('phantom'),ye='OTransition'in Wi,Fe=0===navigator.platform.indexOf('Win'),Ei=Jt&&'transition'in Wi,Zi='WebKitCSSMatrix'in window&&'m11'in new window.WebKitCSSMatrix&&!wt,Ee='MozPerspective'in Wi,z=!window.L_DISABLE_3D&&(Ei||Zi||Ee)&&!ye&&!xe,vt='undefined'!=typeof orientation||I('mobile'),Ln=vt&&Oi,En=vt&&Zi,X=!window.PointerEvent&&window.MSPointerEvent,B=!(!window.PointerEvent&&!X),D=!window.L_NO_TOUCH&&(B||'ontouchstart'in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ve=vt&&Ii,bn=vt&&Ai,J=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nn=!!document.createElement('canvas').getContext,Ht=!(!document.createElementNS||!tn('svg').createSVGRect),Ut=!Ht&&function(){try{var e=document.createElement('div');e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior='url(#default#VML)',i&&'object'==typeof i.adj}catch(t){return!1}}(),zn=(Object.freeze||Object)({ie:Jt,ielt9:at,edge:Pt,webkit:Oi,android:ct,android23:wt,androidStock:Pe,opera:Ii,chrome:Lt,gecko:Ai,safari:we,phantom:xe,opera12:ye,win:Fe,ie3d:Ei,webkit3d:Zi,gecko3d:Ee,any3d:z,mobile:vt,mobileWebkit:Ln,mobileWebkit3d:En,msPointer:X,pointer:B,touch:D,mobileOpera:Ve,mobileGecko:bn,retina:J,canvas:nn,svg:Ht,vml:Ut}),Ri=X?'MSPointerDown':'pointerdown',Ni=X?'MSPointerMove':'pointermove',Di=X?'MSPointerUp':'pointerup',Fi=X?'MSPointerCancel':'pointercancel',Mn=['INPUT','SELECT','OPTION'],ft={},Qe=!1,Si=0,Ft=X?'MSPointerDown':B?'pointerdown':'touchstart',Dt=X?'MSPointerUp':B?'pointerup':'touchend',ut='_leaflet_',Ki=Wt(['transform','webkitTransform','OTransform','MozTransform','msTransform']),Et=Wt(['webkitTransition','transition','OTransition','MozTransition','msTransition']),fe='webkitTransition'===Et||'OTransition'===Et?Et+'End':'transitionend';if('onselectstart'in document)Mt=function(){o(window,'selectstart',M)},Tt=function(){g(window,'selectstart',M)};else{var Ct=Wt(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);Mt=function(){if(Ct){var t=document.documentElement.style;Vi=t[Ct],t[Ct]='none'}},Tt=function(){Ct&&(document.documentElement.style[Ct]=Vi,Vi=void 0)}};var ei,Xi,Qi,Bn=(Object.freeze||Object)({TRANSFORM:Ki,TRANSITION:Et,TRANSITION_END:fe,get:de,getStyle:Ot,create:r,remove:d,empty:ri,toFront:xt,toBack:yt,hasClass:gi,addClass:e,removeClass:m,setClass:Hi,getClass:Vt,setOpacity:S,testProp:Wt,setTransform:et,setPosition:v,getPosition:K,disableTextSelection:Mt,enableTextSelection:Tt,disableImageDrag:pi,enableImageDrag:zi,preventOutline:ki,restoreOutline:ii,getSizedParentNode:oe,getScale:Bi}),E='_leaflet_events',kn=Fe&&Lt?2*window.devicePixelRatio:Ai?window.devicePixelRatio:1,Yi={},Zn=(Object.freeze||Object)({on:o,off:g,stopPropagation:tt,disableScrollPropagation:Ui,disableClickPropagation:kt,preventDefault:M,stop:O,getMousePosition:ie,getWheelDelta:ee,fakeStop:Mi,skipped:ai,isExternalTarget:Xt,addListener:o,removeListener:g}),Le=Bt.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=K(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire('start'),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,e=1e3*this._duration;i<e?this._runFrame(this._easeOut(i/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var e=this._startPos.add(this._offset.multiplyBy(t));i&&e._round(),v(this._el,e),this.fire('step')},_complete:function(){b(this._animId),this._inProgress=!1,this.fire('end')},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),s=Bt.extend({options:{crs:Ji,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=c(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),void 0!==i.zoom&&(this._zoom=this._limitZoom(i.zoom)),i.center&&void 0!==i.zoom&&this.setView(p(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Et&&z&&!Ve&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),o(this._proxy,fe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,e){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(p(t),i,this.options.maxBounds),e=e||{},this._stop(),this._loaded&&!e.reset&&!0!==e&&(void 0!==e.animate&&(e.zoom=u({animate:e.animate},e.zoom),e.pan=u({animate:e.animate,duration:e.duration},e.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,e.zoom):this._tryAnimatedPan(t,e.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i),this)},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(z?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(z?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,e,n){var s=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof i?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/s),a=this.containerPointToLatLng(o.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():y(t);var o=n(i.paddingTopLeft||i.padding||[0,0]),s=n(i.paddingBottomRight||i.padding||[0,0]),e=this.getBoundsZoom(t,!1,o.add(s));if((e='number'==typeof i.maxZoom?Math.min(i.maxZoom,e):e)===1/0)return{center:t.getCenter(),zoom:e};var r=s.subtract(o).divideBy(2),a=this.project(t.getSouthWest(),e),h=this.project(t.getNorthEast(),e);return{center:this.unproject(a.add(h).divideBy(2).add(r),e),zoom:e}},fitBounds:function(t,i){if(!(t=y(t)).isValid())throw new Error('Bounds are not valid.');var e=this._getBoundsCenterZoom(t,i);return this.setView(e.center,e.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=n(t).round(),i=i||{},!t.x&&!t.y)return this.fire('moveend');if(!0!==i.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Le,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire('movestart'),!1!==i.animate){e(this._mapPane,'leaflet-pan-anim');var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}
else this._rawPanBy(t),this.fire('move').fire('moveend');return this},flyTo:function(t,i,e){function g(t){var i=(c*c-n*n+(t?-1:1)*h*h*a*a)/(2*(t?c:n)*h*a),e=Math.sqrt(i*i+1)-i;return e<1e-9?-18:Math.log(e)};function v(t){return(Math.exp(t)-Math.exp(-t))/2};function r(t){return(Math.exp(t)+Math.exp(-t))/2};function L(t){return v(t)/r(t)};function b(t){return n*(r(o)/r(o+s*t))};function T(t){return n*(r(o)*L(o+s*t)-v(o))/h};function M(t){return 1-Math.pow(1-t,1.5)};function y(){var e=(Date.now()-P)/w,o=M(e)*d;e<=1?(this._flyToFrame=x(y,this),this._move(this.unproject(l.add(m.subtract(l).multiplyBy(T(o)/a)),u),this.getScaleZoom(n/b(o),u),{flyTo:!0})):this._move(t,i)._moveEnd(!0)};if(!1===(e=e||{}).animate||!z)return this.setView(t,i,e);this._stop();var l=this.project(this.getCenter()),m=this.project(t),f=this.getSize(),u=this._zoom;t=p(t),i=void 0===i?u:i;var n=Math.max(f.x,f.y),c=n*this.getZoomScale(u,i),a=m.distanceTo(l)||1,s=1.42,h=s*s,o=g(0),P=Date.now(),d=(g(1)-o)/s,w=e.duration?1e3*e.duration:1e3*d*.8;return this._moveStart(!0,e.noMoveStart),y.call(this),this},flyToBounds:function(t,i){var e=this._getBoundsCenterZoom(t,i);return this.flyTo(e.center,e.zoom,i)},setMaxBounds:function(t){return(t=y(t)).isValid()?(this.options.maxBounds&&this.off('moveend',this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on('moveend',this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off('moveend',this._panInsideMaxBounds))},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire('zoomlevelschange'),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire('zoomlevelschange'),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var e=this.getCenter(),n=this._limitCenter(e,this._zoom,y(t));return e.equals(n)||this.panTo(n,i),this._enforcingBounds=!1,this},panInside:function(t,i){var h=n((i=i||{}).paddingTopLeft||i.padding||[0,0]),u=n(i.paddingBottomRight||i.padding||[0,0]),d=this.getCenter(),l=this.project(d),e=this.project(t),c=this.getPixelBounds(),a=c.getSize().divideBy(2),r=k([c.min.add(h),c.max.subtract(u)]);if(!r.contains(e)){this._enforcingBounds=!0;var s=l.subtract(e),o=n(e.x+s.x,e.y+s.y);(e.x<r.min.x||e.x>r.max.x)&&(o.x=l.x-s.x,s.x>0?o.x+=a.x-h.x:o.x-=a.x-u.x),(e.y<r.min.y||e.y>r.max.y)&&(o.y=l.y-s.y,s.y>0?o.y+=a.y-h.y:o.y-=a.y-u.y),this.panTo(this.unproject(o),i),this._enforcingBounds=!1};return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var e=this.getSize(),o=n.divideBy(2).round(),s=e.divideBy(2).round(),i=o.subtract(s);return i.x||i.y?(t.animate&&t.pan?this.panBy(i):(t.pan&&this._rawPanBy(i),this.fire('move'),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,'moveend'),200)):this.fire('moveend')),this.fire('resize',{oldSize:n,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire('viewreset'),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!('geolocation'in navigator))return this._handleGeolocationError({code:0,message:'Geolocation not supported.'}),this;var i=l(this._handleGeolocationResponse,this),e=l(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,e,t):navigator.geolocation.getCurrentPosition(i,e,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,e=t.message||(1===i?'permission denied':2===i?'position unavailable':'timeout');this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire('locationerror',{code:i,message:'Geolocation error: '+e+'.'})},_handleGeolocationResponse:function(t){var e=new h(t.coords.latitude,t.coords.longitude),r=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var s=this.getBoundsZoom(r);this.setView(e,n.maxZoom?Math.min(s,n.maxZoom):s)};var o={latlng:e,bounds:r,timestamp:t.timestamp};for(var i in t.coords)'number'==typeof t.coords[i]&&(o[i]=t.coords[i]);this.fire('locationfound',o)},addHandler:function(t,i){if(!i)return this;var e=this[t]=new i(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error('Map container is being reused by another instance');try{delete this._container._leaflet_id,delete this._containerId}catch(i){this._container._leaflet_id=void 0,this._containerId=void 0};void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),d(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(b(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire('unload');var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)d(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var e=r('div','leaflet-pane'+(t?' leaflet-'+t.replace('Pane','')+'-pane':''),i||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new P(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=y(t),e=n(e||[0,0]);var o=this.getZoom()||0,l=this.getMinZoom(),c=this.getMaxZoom(),d=t.getNorthWest(),p=t.getSouthEast(),r=this.getSize().subtract(e),a=k(this.project(p,o),this.project(d,o)).getSize(),s=z?this.options.zoomSnap:1,h=r.x/a.x,u=r.y/a.y,m=i?Math.max(h,u):Math.min(h,u);return o=this.getScaleZoom(m,o),s&&(o=Math.round(o/(s/100))*(s/100),o=i?Math.ceil(o/s)*s:Math.floor(o/s)*s),Math.max(l,Math.min(c,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new i(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var e=this._getTopLeftPoint(t,i);return new f(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return'string'==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var e=this.options.crs;return i=void 0===i?this._zoom:i,e.scale(t)/e.scale(i)},getScaleZoom:function(t,i){var n=this.options.crs;i=void 0===i?this._zoom:i;var e=n.zoom(t*n.scale(i));return isNaN(e)?1/0:e},project:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(p(t),i)},unproject:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(n(t),i)},layerPointToLatLng:function(t){var i=n(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){return this.project(p(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(p(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(y(t))},distance:function(t,i){return this.options.crs.distance(p(t),p(i))},containerPointToLayerPoint:function(t){return n(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return n(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(n(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(p(t)))},mouseEventToContainerPoint:function(t){return ie(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=de(t);if(!i)throw new Error('Map container not found.');if(i._leaflet_id)throw new Error('Map container is already initialized.');o(i,'scroll',this._onScroll,this),this._containerId=a(i)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&z,e(i,'leaflet-container'+(D?' leaflet-touch':'')+(J?' leaflet-retina':'')+(at?' leaflet-oldie':'')+(we?' leaflet-safari':'')+(this._fadeAnimated?' leaflet-fade-anim':''));var t=Ot(i,'position');'absolute'!==t&&'relative'!==t&&'fixed'!==t&&(i.style.position='relative'),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane('mapPane',this._container),v(this._mapPane,new i(0,0)),this.createPane('tilePane'),this.createPane('shadowPane'),this.createPane('overlayPane'),this.createPane('markerPane'),this.createPane('tooltipPane'),this.createPane('popupPane'),this.options.markerZoomAnimation||(e(t.markerPane,'leaflet-zoom-hide'),e(t.shadowPane,'leaflet-zoom-hide'))},_resetView:function(t,e){v(this._mapPane,new i(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire('viewprereset');var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire('viewreset'),o&&this.fire('load')},_moveStart:function(t,i){return t&&this.fire('zoomstart'),i||this.fire('movestart'),this},_move:function(t,i,e){void 0===i&&(i=this._zoom);var n=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||e&&e.pinch)&&this.fire('zoom',e),this.fire('move',e)},_moveEnd:function(t){return t&&this.fire('zoomend'),this.fire('moveend')},_stop:function(){return b(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){v(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error('Set map center and zoom first.')},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var i=t?g:o;i(this._container,'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress',this._handleDOMEvent,this),this.options.trackResize&&i(window,'resize',this._onResize,this),z&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,'moveend',this._onMoveEnd)},_onResize:function(){b(this._resizeRequest),this._resizeRequest=x(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var n,o=[],s='mouseout'===i||'mouseover'===i,e=t.target||t.srcElement,r=!1;e;){if((n=this._targets[a(e)])&&('click'===i||'preclick'===i)&&!t._simulated&&this._draggableMoved(n)){r=!0;break};if(n&&n.listens(i,!0)){if(s&&!Xt(e,t))break;if(o.push(n),s)break};if(e===this._container)break;e=e.parentNode};return o.length||r||s||!Xt(e,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!ai(t)){var i=t.type;'mousedown'!==i&&'keypress'!==i||ki(t.target||t.srcElement),this._fireDOMEvent(t,i)}},_mouseEvents:['click','dblclick','mouseover','mouseout','contextmenu'],_fireDOMEvent:function(t,i,e){if('click'===t.type){var r=u({},t);r.type='preclick',this._fireDOMEvent(r,r.type,e)};if(!t._stopped&&(e=(e||[]).concat(this._findEventTargets(t,i))).length){var o=e[0];'contextmenu'===i&&o.listens(i,!0)&&M(t);var n={originalEvent:t};if('keypress'!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);n.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),n.layerPoint=this.containerPointToLayerPoint(n.containerPoint),n.latlng=a?o.getLatLng():this.layerPointToLatLng(n.layerPoint)};for(var s=0;s<e.length;s++)if(e[s].fire(i,n,!0),n.originalEvent._stopped||!1===e[s].options.bubblingMouseEvents&&-1!==Ke(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on('load',t,i),this},_getMapPanePos:function(){return K(this._mapPane)||new i(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){return(t&&void 0!==i?this._getNewPixelOrigin(t,i):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return this.project(t,i)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return k([this.project(t.getSouthWest(),i)._subtract(n),this.project(t.getNorthWest(),i)._subtract(n),this.project(t.getSouthEast(),i)._subtract(n),this.project(t.getNorthEast(),i)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),o=this.getSize().divideBy(2),r=new f(n.subtract(o),n.add(o)),s=this._getBoundsOffset(r,e,i);return s.round().equals([0,0])?t:this.unproject(n.add(s),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),n=new f(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(n,i))},_getBoundsOffset:function(t,e,n){var o=k(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),s=o.min.subtract(t.min),r=o.max.subtract(t.max);return new i(this._rebound(s.x,-r.x),this._rebound(s.y,-r.y))},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=z?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire('move')},_onPanTransitionEnd:function(){m(this._mapPane,'leaflet-pan-anim'),this.fire('moveend')},_tryAnimatedPan:function(t,i){var e=this._getCenterOffset(t)._trunc();return!(!0!==(i&&i.animate)&&!this.getSize().contains(e))&&(this.panBy(e,i),!0)},_createAnimProxy:function(){var t=this._proxy=r('div','leaflet-proxy leaflet-zoom-animated');this._panes.mapPane.appendChild(t),this.on('zoomanim',function(t){var i=Ki,e=this._proxy.style[i];et(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on('load moveend',function(){var i=this.getCenter(),t=this.getZoom();et(this._proxy,this.project(i,t),this.getZoomScale(t,1))},this),this._on('unload',this._destroyAnimProxy,this)},_destroyAnimProxy:function(){d(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf('transform')>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName('leaflet-zoom-animated').length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==e.animate&&!this.getSize().contains(o))&&(x(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,e(this._mapPane,'leaflet-zoom-anim')),this.fire('zoomanim',{center:t,zoom:i,noUpdate:o}),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&m(this._mapPane,'leaflet-zoom-anim'),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),x(function(){this._moveEnd(!0)},this))}}),Z=F.extend({options:{position:'topright'},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),o=this.getPosition(),n=t._controlCorners[o];return e(i,'leaflet-control'),-1!==o.indexOf('bottom')?n.insertBefore(i,n.firstChild):n.appendChild(i),this},remove:function(){return this._map?(d(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),St=function(t){return new Z(t)};s.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=i+t+' '+i+o;e[t+o]=r('div',s,n)};var e=this._controlCorners={},i='leaflet-',n=this._controlContainer=r('div',i+'control-container',this._container);t('top','left'),t('top','right'),t('bottom','left'),t('bottom','right')},_clearControlPos:function(){for(var t in this._controlCorners)d(this._controlCorners[t]);d(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var be=Z.extend({options:{collapsed:!0,position:'topright',autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,e,n){return e<n?-1:n<e?1:0}},initialize:function(t,i,e){c(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on('zoomend',this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on('add remove',this._onLayerChange,this);return this._container},addTo:function(t){return Z.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off('zoomend',this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off('add remove',this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off('add remove',this._onLayerChange,this);var i=this._getLayer(a(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){e(this._container,'leaflet-control-layers-expanded'),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(e(this._section,'leaflet-control-layers-scrollbar'),this._section.style.height=t+'px'):m(this._section,'leaflet-control-layers-scrollbar'),this._checkDisabledLayers(),this},collapse:function(){return m(this._container,'leaflet-control-layers-expanded'),this},_initLayout:function(){var t='leaflet-control-layers',i=this._container=r('div',t),s=this.options.collapsed;i.setAttribute('aria-haspopup',!0),kt(i),Ui(i);var n=this._section=r('section',t+'-list');s&&(this._map.on('click',this.collapse,this),ct||o(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var e=this._layersLink=r('a',t+'-toggle',i);e.href='#',e.title='Layers',D?(o(e,'click',O),o(e,'click',this.expand,this)):o(e,'focus',this.expand,this),s||this.expand(),this._baseLayersList=r('div',t+'-base',n),this._separator=r('div',t+'-separator',n),this._overlaysList=r('div',t+'-overlays',n),i.appendChild(n)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&a(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,e){this._map&&t.on('add remove',this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:e}),this.options.sortLayers&&this._layers.sort(l(function(t,i){return this.options.sortFunction(t.layer,i.layer,t.name,i.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var t,n,e,i,o=0;for(e=0;e<this._layers.length;e++)i=this._layers[e],this._addItem(i),n=n||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?'':'none'),this._separator.style.display=n&&t?'':'none',this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(a(t.target)),e=i.overlay?'add'===t.type?'overlayadd':'overlayremove':'add'===t.type?'baselayerchange':null;e&&this._map.fire(e,i)},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':'')+'/>',e=document.createElement('div');return e.innerHTML=n,e.firstChild},_addItem:function(t){var i,n=document.createElement('label'),r=this._map.hasLayer(t.layer);t.overlay?((i=document.createElement('input')).type='checkbox',i.className='leaflet-control-layers-selector',i.defaultChecked=r):i=this._createRadioElement('leaflet-base-layers',r),this._layerControlInputs.push(i),i.layerId=a(t.layer),o(i,'click',this._onInputClick,this);var s=document.createElement('span');s.innerHTML=' '+t.name;var e=document.createElement('div');return n.appendChild(e),e.appendChild(i),e.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var i,o,s=this._layerControlInputs,e=[],n=[];this._handlingClick=!0;for(var t=s.length-1;t>=0;t--)i=s[t],o=this._getLayer(i.layerId).layer,i.checked?e.push(o):i.checked||n.push(o);for(t=0;t<n.length;t++)this._map.hasLayer(n[t])&&this._map.removeLayer(n[t]);for(t=0;t<e.length;t++)this._map.hasLayer(e[t])||this._map.addLayer(e[t]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var i,t,n=this._layerControlInputs,o=this._map.getZoom(),e=n.length-1;e>=0;e--)i=n[e],t=this._getLayer(i.layerId).layer,i.disabled=void 0!==t.options.minZoom&&o<t.options.minZoom||void 0!==t.options.maxZoom&&o>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ji=Z.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'&#x2212;',zoomOutTitle:'Zoom out'},onAdd:function(t){var e='leaflet-control-zoom',n=r('div',e+' leaflet-bar'),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+'-in',n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+'-out',n,this._zoomOut),this._updateDisabled(),t.on('zoomend zoomlevelschange',this._updateDisabled,this),n},onRemove:function(t){t.off('zoomend zoomlevelschange',this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,e,n,a){var s=r('a',e,n);return s.innerHTML=t,s.href='#',s.title=i,s.setAttribute('role','button'),s.setAttribute('aria-label',i),kt(s),o(s,'click',O),o(s,'click',a,this),o(s,'click',this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,i='leaflet-disabled';m(this._zoomInButton,i),m(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMinZoom())&&e(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMaxZoom())&&e(this._zoomInButton,i)}});s.mergeOptions({zoomControl:!0}),s.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ji,this.addControl(this.zoomControl))});var Te=Z.extend({options:{position:'bottomleft',maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i=r('div','leaflet-control-scale'),e=this.options;return this._addScales(e,'leaflet-control-scale-line',i),t.on(e.updateWhenIdle?'moveend':'move',this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_addScales:function(t,i,e){t.metric&&(this._mScale=r('div',i,e)),t.imperial&&(this._iScale=r('div',i,e))},_update:function(){var t=this._map,i=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),e=i<1e3?i+' m':i/1e3+' km';this._updateScale(this._mScale,e,i/t)},_updateImperial:function(t){var e,n,o,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+' mi',n/e)):(o=this._getRoundNum(i),this._updateScale(this._iScale,o+' ft',o/i))},_updateScale:function(t,i,e){t.style.width=Math.round(this.options.maxWidth*e)+'px',t.innerHTML=i},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+'').length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Ci=Z.extend({options:{position:'bottomright',prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=r('div','leaflet-control-attribution'),kt(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var e in this._attributions)this._attributions[e]&&i.push(e);var t=[];this.options.prefix&&t.push(this.options.prefix),i.length&&t.push(i.join(', ')),this._container.innerHTML=t.join(' | ')}}});s.mergeOptions({attributionControl:!0}),s.addInitHook(function(){this.options.attributionControl&&(new Ci).addTo(this)});Z.Layers=be,Z.Zoom=ji,Z.Scale=Te,Z.Attribution=Ci,St.layers=function(t,i,e){return new be(t,i,e)},St.zoom=function(t){return new ji(t)},St.scale=function(t){return new Te(t)},St.attribution=function(t){return new Ci(t)};var R=F.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});R.addTo=function(t,i){return t.addHandler(i,this),this};var Se,un={Events:T},Ce=D?'touchstart mousedown':'mousedown',Me={mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},li={mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'},ot=Bt.extend({options:{clickTolerance:3},initialize:function(t,i,e,n){c(this,n),this._element=t,this._dragStartTarget=i||t,this._preventOutline=e},enable:function(){this._enabled||(o(this._dragStartTarget,Ce,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ot._dragging===this&&this.finishDrag(),g(this._dragStartTarget,Ce,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!gi(this._element,'leaflet-zoom-anim')&&!(ot._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ot._dragging=this,this._preventOutline&&ki(this._element),pi(),Mt(),this._moving)))){this.fire('down');var e=t.touches?t.touches[0]:t,n=oe(this._element);this._startPoint=new i(e.clientX,e.clientY),this._parentScale=Bi(n),o(document,li[t.type],this._onMove,this),o(document,Me[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var o=t.touches&&1===t.touches.length?t.touches[0]:t,n=new i(o.clientX,o.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,M(t),this._moved||(this.fire('dragstart'),this._moved=!0,this._startPos=K(this._element).subtract(n),e(document.body,'leaflet-dragging'),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),e(this._lastTarget,'leaflet-drag-target')),this._newPos=this._startPos.add(n),this._moving=!0,b(this._animRequest),this._lastEvent=t,this._animRequest=x(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire('predrag',t),v(this._element,this._newPos),this.fire('drag',t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){m(document.body,'leaflet-dragging'),this._lastTarget&&(m(this._lastTarget,'leaflet-drag-target'),this._lastTarget=null);for(var t in li)g(document,li[t],this._onMove,this),g(document,Me[t],this._onUp,this);zi(),Tt(),this._moved&&this._moving&&(b(this._animRequest),this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ot._dragging=!1}}),xn=(Object.freeze||Object)({simplify:le,pointToSegmentDistance:pe,closestPointOnSegment:function(t,i,e){return Rt(t,i,e)},clipSegment:se,_getEdgeIntersection:Qt,_getBitCode:nt,_sqClosestPointOnSegment:Rt,isFlat:W,_flat:he}),Nn=(Object.freeze||Object)({clipPolygon:te}),ui={project:function(t){return new i(t.lng,t.lat)},unproject:function(t){return new h(t.y,t.x)},bounds:new f([-180,-90],[180,90])},hi={R:6378137,R_MINOR:6356752.314245179,bounds:new f([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var o=Math.PI/180,n=this.R,e=t.lat*o,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=r*Math.sin(e),h=Math.tan(Math.PI/4-e/2)/Math.pow((1-a)/(1+a),r/2);return e=-n*Math.log(Math.max(h,1e-10)),new i(t.lng*o*n,e)},unproject:function(t){for(var i,o=180/Math.PI,n=this.R,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=Math.exp(-t.y/n),e=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)i=r*Math.sin(e),i=Math.pow((1-i)/(1+i),r/2),e+=l=Math.PI/2-2*Math.atan(a*i)-e;return new h(e*o,t.x*o/n)}},Rn=(Object.freeze||Object)({LonLat:ui,Mercator:hi,SphericalMercator:Gi}),On=u({},Y,{code:'EPSG:3395',projection:hi,transformation:function(){var t=.5/(Math.PI*hi.R);return zt(t,.5,-t,.5)}()}),ze=u({},Y,{code:'EPSG:4326',projection:ui,transformation:zt(1/180,1,-1/180,.5)}),An=u({},H,{projection:ui,transformation:zt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var e=i.lng-t.lng,n=i.lat-t.lat;return Math.sqrt(e*e+n*n)},infinite:!0});H.Earth=Y,H.EPSG3395=On,H.EPSG3857=Ji,H.EPSG900913=Sn,H.EPSG4326=ze,H.Simple=An;var C=Bt.extend({options:{pane:'overlayPane',attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var e=this.getEvents();i.on(e,this),this.once('remove',function(){i.off(e,this)},this)};this.onAdd(i),this.getAttribution&&i.attributionControl&&i.attributionControl.addAttribution(this.getAttribution()),this.fire('add'),i.fire('layeradd',{layer:this})}}});s.include({addLayer:function(t){if(!t._layerAdd)throw new Error('The provided object is not a Layer.');var i=a(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=a(t);return this._layers[i]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[i],this._loaded&&(this.fire('layerremove',{layer:t}),t.fire('remove')),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},_addLayers:function(t){for(var i=0,e=(t=t?N(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=a(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,o=this._getZoomSpan();for(var n in this._zoomBoundLayers){var e=this._zoomBoundLayers[n].options;t=void 0===e.minZoom?t:Math.min(t,e.minZoom),i=void 0===e.maxZoom?i:Math.max(i,e.maxZoom)};this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire('zoomlevelschange'),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ht=C.extend({initialize:function(t,i){c(this,i),this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke('setZIndex',t)},getLayerId:function(t){return a(t)}}),it=ht.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ht.prototype.addLayer.call(this,t),this.fire('layeradd',{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ht.prototype.removeLayer.call(this,t),this.fire('layerremove',{layer:t})):this},setStyle:function(t){return this.invoke('setStyle',t)},bringToFront:function(){return this.invoke('bringToFront')},bringToBack:function(){return this.invoke('bringToBack')},getBounds:function(){var i=new P;for(var e in this._layers){var t=this._layers[e];i.extend(t.getBounds?t.getBounds():t.getLatLng())};return i}}),pt=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon('icon',t)},createShadow:function(t){return this._createIcon('shadow',t)},_createIcon:function(t,i){var n=this._getIconUrl(t);if(!n){if('icon'===t)throw new Error('iconUrl not set in Icon options (see the docs).');return null};var e=this._createImg(n,i&&'IMG'===i.tagName?i:null);return this._setIconStyles(e,t),e},_setIconStyles:function(t,i){var s=this.options,o=s[i+'Size'];'number'==typeof o&&(o=[o,o]);var e=n(o),r=n('shadow'===i&&s.shadowAnchor||s.iconAnchor||e&&e.divideBy(2,!0));t.className='leaflet-marker-'+i+' '+(s.className||''),r&&(t.style.marginLeft=-r.x+'px',t.style.marginTop=-r.y+'px'),e&&(t.style.width=e.x+'px',t.style.height=e.y+'px')},_createImg:function(t,i){return i=i||document.createElement('img'),i.src=t,i},_getIconUrl:function(t){return J&&this.options[t+'RetinaUrl']||this.options[t+'Url']}}),bt=pt.extend({options:{iconUrl:'marker-icon.png',iconRetinaUrl:'marker-icon-2x.png',shadowUrl:'marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return bt.imagePath||(bt.imagePath=this._detectIconPath()),(this.options.imagePath||bt.imagePath)+pt.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var i=r('div','leaflet-default-icon-path',document.body),t=Ot(i,'background-image')||Ot(i,'backgroundImage');return document.body.removeChild(i),t=null===t||0!==t.indexOf('url')?'':t.replace(/^url\(["']?/,'').replace(/marker-icon\.png["']?\)$/,'')}}),ve=R.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ot(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),e(t,'leaflet-marker-draggable')},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&m(this._marker._icon,'leaflet-marker-draggable')},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,a=r._map,l=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,o=K(r._icon),e=a.getPixelBounds(),u=a.getPixelOrigin(),i=k(e.min._subtract(u).add(h),e.max._subtract(u).subtract(h));if(!i.contains(o)){var s=n((Math.max(i.max.x,o.x)-i.max.x)/(e.max.x-i.max.x)-(Math.min(i.min.x,o.x)-i.min.x)/(e.min.x-i.min.x),(Math.max(i.max.y,o.y)-i.max.y)/(e.max.y-i.max.y)-(Math.min(i.min.y,o.y)-i.min.y)/(e.min.y-i.min.y)).multiplyBy(l);a.panBy(s,{animate:!1}),this._draggable._newPos._add(s),this._draggable._startPos._add(s),v(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=x(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire('movestart').fire('dragstart')},_onPreDrag:function(t){this._marker.options.autoPan&&(b(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,e=i._shadow,n=K(i._icon),o=i._map.layerPointToLatLng(n);e&&v(e,n),i._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,i.fire('move',t).fire('drag',t)},_onDragEnd:function(t){b(this._panRequest),delete this._oldLatLng,this._marker.fire('moveend').fire('dragend',t)}}),Nt=C.extend({options:{icon:new bt,interactive:!0,keyboard:!0,title:'',alt:'',zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:'markerPane',bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){c(this,i),this._latlng=p(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on('zoomanim',this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off('zoomanim',this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=p(t),this.update(),this.fire('move',{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)};return this},_initIcon:function(){var t=this.options,s='leaflet-zoom-'+(this._zoomAnimated?'animated':'hide'),i=t.icon.createIcon(this._icon),r=!1;i!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(i.title=t.title),'IMG'===i.tagName&&(i.alt=t.alt||'')),e(i,s),t.keyboard&&(i.tabIndex='0'),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var n=t.icon.createShadow(this._shadow),o=!1;n!==this._shadow&&(this._removeShadow(),o=!0),n&&(e(n,s),n.alt=''),this._shadow=n,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&o&&this.getPane('shadowPane').appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),d(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&d(this._shadow),this._shadow=null},_setPos:function(t){v(this._icon,t),this._shadow&&v(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(e(this._icon,'leaflet-interactive'),this.addInteractiveTarget(this._icon),ve)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ve(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;S(this._icon,t),this._shadow&&S(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),G=C.extend({options:{stroke:!0,color:'#3388ff',weight:3,opacity:1,lineCap:'round',lineJoin:'round',dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:'evenodd',interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Kt=G.extend({options:{fill:!0,radius:10},initialize:function(t,i){c(this,i),this._latlng=p(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=p(t),this.redraw(),this.fire('move',{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return G.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,i=this._clickTolerance(),e=[t+i,n+i];this._pxBounds=new f(this._point.subtract(e),this._point.add(e))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),fi=Kt.extend({initialize:function(t,i,e){if('number'==typeof i&&(i=u({},e,{radius:i})),c(this,i),this._latlng=p(t),isNaN(this.options.radius))throw new Error('Circle radius cannot be NaN');this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:G.prototype.setStyle,_project:function(){var a=this._latlng.lng,n=this._latlng.lat,t=this._map,h=t.options.crs;if(h.distance===Y.distance){var i=Math.PI/180,o=this._mRadius/Y.R/i,u=t.project([n+o,a]),c=t.project([n-o,a]),s=u.add(c).divideBy(2),r=t.unproject(s).lat,e=Math.acos((Math.cos(o*i)-Math.sin(n*i)*Math.sin(r*i))/(Math.cos(n*i)*Math.cos(r*i)))/i;(isNaN(e)||0===e)&&(e=o/Math.cos(Math.PI/180*n)),this._point=s.subtract(t.getPixelOrigin()),this._radius=isNaN(e)?0:s.x-t.project([r,a-e]).x,this._radiusY=s.y-u.y}
else{var l=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=t.latLngToLayerPoint(this._latlng),this._radius=this._point.x-t.latLngToLayerPoint(l).x};this._updateBounds()}}),q=G.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){c(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var a,h,o=1/0,e=null,u=Rt,s=0,c=this._parts.length;s<c;s++)for(var n=this._parts[s],i=1,l=n.length;i<l;i++){var r=u(t,a=n[i-1],h=n[i],!0);r<o&&(o=r,e=u(t,a,h))};return e&&(e.distance=Math.sqrt(o)),e},getCenter:function(){if(!this._map)throw new Error('Must add layer to map before using getCenter()');var t,n,s,r,o,i,a,e=this._rings[0],h=e.length;if(!h)return null;for(t=0,n=0;t<h-1;t++)n+=e[t].distanceTo(e[t+1])/2;if(0===n)return this._map.layerPointToLatLng(e[0]);for(t=0,r=0;t<h-1;t++)if(o=e[t],i=e[t+1],s=o.distanceTo(i),(r+=s)>n)return a=(r-n)/s,this._map.layerPointToLatLng([i.x-a*(i.x-o.x),i.y-a*(i.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=p(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new P,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return W(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=W(t),i=0,o=t.length;i<o;i++)n?(e[i]=p(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new f;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new i(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,i,e){var n,o,r=t[0]instanceof h,s=t.length;if(r){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]);i.push(o)}
else for(n=0;n<s;n++)this._projectLatlngs(t[n],i,e)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(h))if(this.options.noClip)this._parts=this._rings;else{var e,t,i,a,r,n,o,s=this._parts;for(e=0,i=0,a=this._rings.length;e<a;e++)for(t=0,r=(o=this._rings[e]).length;t<r-1;t++)(n=se(o[t],o[t+1],h,t,!0))&&(s[i]=s[i]||[],s[i].push(n[0]),n[1]===o[t+1]&&t!==r-2||(s[i].push(n[1]),i++))}},_simplifyPoints:function(){for(var i=this._parts,e=this.options.smoothFactor,t=0,n=i.length;t<n;t++)i[t]=le(i[t],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var n,e,o,r,a,s,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(e=0,o=(a=(s=this._parts[n]).length)-1;e<a;o=e++)if((i||0!==e)&&pe(t,s[o],s[e])<=h)return!0;return!1}});q._flat=he;var gt=q.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error('Must add layer to map before using getCenter()');var n,r,t,i,o,e,a,h,l,s=this._rings[0],u=s.length;if(!u)return null;for(e=a=h=0,n=0,r=u-1;n<u;r=n++)t=s[n],i=s[r],o=t.y*i.x-i.y*t.x,a+=(t.x+i.x)*o,h+=(t.y+i.y)*o,e+=3*o;return l=0===e?s[0]:[a/e,h/e],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var i=q.prototype._convertLatLngs.call(this,t),e=i.length;return e>=2&&i[0]instanceof h&&i[0].equals(i[e-1])&&i.pop(),i},_setLatLngs:function(t){q.prototype._setLatLngs.call(this,t),W(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return W(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,s=new i(o,o);if(t=new f(t.min.subtract(s),t.max.add(s)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,e=0,r=this._rings.length;e<r;e++)(n=te(this._rings[e],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s,i,e,n,o,r,h,u,a=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,h=this._parts.length;n<h;n++)for(o=0,r=(u=(s=this._parts[n]).length)-1;o<u;r=o++)i=s[o],e=s[r],i.y>t.y!=e.y>t.y&&t.x<(e.x-i.x)*(t.y-i.y)/(e.y-i.y)+i.x&&(a=!a);return a||q.prototype._containsPoint.call(this,t,!0)}}),U=it.extend({initialize:function(t,i){c(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var o,r,n,s=N(t)?t:t.features;if(s){for(o=0,r=s.length;o<r;o++)((n=s[o]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this};var e=this.options;if(e.filter&&!e.filter(t))return this;var i=Pi(t,e);return i?(i.feature=Gt(t),i.defaultOptions=i.options,this.resetStyle(i),e.onEachFeature&&e.onEachFeature(t,i),this.addLayer(i)):this},resetStyle:function(t){return t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){'function'==typeof i&&(i=i(t.feature)),t.setStyle&&t.setStyle(i)}}),yi={toGeoJSON:function(t){return st(this,{type:'Point',coordinates:bi(this.getLatLng(),t)})}};Nt.include(yi),fi.include(yi),Kt.include(yi),q.include({toGeoJSON:function(t){var i=!W(this._latlngs),e=ni(this._latlngs,i?1:0,!1,t);return st(this,{type:(i?'Multi':'')+'LineString',coordinates:e})}}),gt.include({toGeoJSON:function(t){var i=!W(this._latlngs),n=i&&!W(this._latlngs[0]),e=ni(this._latlngs,n?2:i?1:0,!0,t);return i||(e=[e]),st(this,{type:(n?'Multi':'')+'Polygon',coordinates:e})}}),ht.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(e){i.push(e.toGeoJSON(t).geometry.coordinates)}),st(this,{type:'MultiPoint',coordinates:i})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if('MultiPoint'===n)return this.toMultiPoint(t);var e='GeometryCollection'===n,i=[];return this.eachLayer(function(n){if(n.toGeoJSON){var s=n.toGeoJSON(t);if(e)i.push(s.geometry);else{var o=Gt(s);'FeatureCollection'===o.type?i.push.apply(i,o.features):i.push(o)}}}),e?st(this,{geometries:i,type:'GeometryCollection'}):{type:'FeatureCollection',features:i}}});var an=ne,xi=C.extend({options:{opacity:1,alt:'',interactive:!1,crossOrigin:!1,errorOverlayUrl:'',zIndex:1,className:''},initialize:function(t,i,e){this._url=t,this._bounds=y(i),c(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(e(this._image,'leaflet-interactive'),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){d(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&xt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=y(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i='IMG'===this._url.tagName,t=this._image=i?this._url:r('img');e(t,'leaflet-image-layer'),this._zoomAnimated&&e(t,'leaflet-zoom-animated'),this.options.className&&e(t,this.options.className),t.onselectstart=w,t.onmousemove=w,t.onload=l(this.fire,this,'load'),t.onerror=l(this._overlayOnError,this,'error'),(this.options.crossOrigin||''===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?'':this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;et(this._image,e,i)},_reset:function(){var t=this._image,i=new f(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=i.getSize();v(t,i.min),t.style.width=e.x+'px',t.style.height=e.y+'px'},_updateOpacity:function(){S(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire('error');var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ze=xi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var h='VIDEO'===this._url.tagName,t=this._image=h?this._url:r('video');if(e(t,'leaflet-image-layer'),this._zoomAnimated&&e(t,'leaflet-zoom-animated'),t.onselectstart=w,t.onmousemove=w,t.onloadeddata=l(this.fire,this,'load'),h){for(var n=t.getElementsByTagName('source'),a=[],o=0;o<n.length;o++)a.push(n[o].src);this._url=n.length>0?a:[t.src]}
else{N(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var s=r('source');s.src=this._url[i],t.appendChild(s)}}}}),V=C.extend({options:{offset:[0,7],className:'',pane:'popupPane'},initialize:function(t,i){c(this,t),this._source=i},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&S(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&S(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(S(this._container,0),this._removeTimeout=setTimeout(l(d,void 0,this._container),200)):d(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=p(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility='hidden',this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility='',this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,i='function'==typeof this._content?this._content(this._source||this):this._content;if('string'==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)};this.fire('contentupdate')}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),t=n(this.options.offset),e=this._getAnchor();this._zoomAnimated?v(this._container,i.add(e)):t=t.add(i).add(e);var o=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=o+'px',this._container.style.left=s+'px'}},_getAnchor:function(){return[0,0]}}),rt=V.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:''},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){V.prototype.onAdd.call(this,t),t.fire('popupopen',{popup:this}),this._source&&(this._source.fire('popupopen',{popup:this},!0),this._source instanceof G||this._source.on('preclick',tt))},onRemove:function(t){V.prototype.onRemove.call(this,t),t.fire('popupclose',{popup:this}),this._source&&(this._source.fire('popupclose',{popup:this},!0),this._source instanceof G||this._source.off('preclick',tt))},getEvents:function(){var t=V.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t='leaflet-popup',e=this._container=r('div',t+' '+(this.options.className||'')+' leaflet-zoom-animated'),n=this._wrapper=r('div',t+'-content-wrapper',e);if(this._contentNode=r('div',t+'-content',n),kt(n),Ui(this._contentNode),o(n,'contextmenu',tt),this._tipContainer=r('div',t+'-tip-container',e),this._tip=r('div',t+'-tip',this._tipContainer),this.options.closeButton){var i=this._closeButton=r('a',t+'-close-button',e);i.href='#close',i.innerHTML='&#215;',o(i,'click',this._onCloseButtonClick,this)}},_updateLayout:function(){var n=this._contentNode,t=n.style;t.width='',t.whiteSpace='nowrap';var i=n.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+'px',t.whiteSpace='',t.height='';var s=n.offsetHeight,o=this.options.maxHeight;o&&s>o?(t.height=o+'px',e(n,'leaflet-popup-scrolled')):m(n,'leaflet-popup-scrolled'),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();v(this._container,i.add(e))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var h=this._map,p=parseInt(Ot(this._container,'marginBottom'),10)||0,u=this._container.offsetHeight+p,c=this._containerWidth,d=new i(this._containerLeft,-u-this._containerBottom);d._add(K(this._container));var t=h.layerPointToContainerPoint(d),l=n(this.options.autoPanPadding),s=n(this.options.autoPanPaddingTopLeft||l),r=n(this.options.autoPanPaddingBottomRight||l),a=h.getSize(),e=0,o=0;t.x+c+r.x>a.x&&(e=t.x+c-a.x+r.x),t.x-e-s.x<0&&(e=t.x-s.x),t.y+u+r.y>a.y&&(o=t.y+u-a.y+r.y),t.y-o-s.y<0&&(o=t.y-s.y),(e||o)&&h.fire('autopanstart').panBy([e,o])}},_onCloseButtonClick:function(t){this._close(),O(t)},_getAnchor:function(){return n(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});s.mergeOptions({closePopupOnClick:!0}),s.include({openPopup:function(t,i,e){return t instanceof rt||(t=new rt(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),C.include({bindPopup:function(t,i){return t instanceof rt?(c(t,i),this._popup=t,t._source=this):(this._popup&&!i||(this._popup=new rt(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,i){if(t instanceof C||(i=t,t=this),t instanceof it)for(var e in this._layers){t=this._layers[e];break};return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var i=t.layer||t.target;this._popup&&this._map&&(O(t),i instanceof G?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===i?this.closePopup():this.openPopup(i,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var lt=V.extend({options:{pane:'tooltipPane',offset:[0,0],direction:'auto',permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){V.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire('tooltipopen',{tooltip:this}),this._source&&this._source.fire('tooltipopen',{tooltip:this},!0)},onRemove:function(t){V.prototype.onRemove.call(this,t),t.fire('tooltipclose',{tooltip:this}),this._source&&this._source.fire('tooltipclose',{tooltip:this},!0)},getEvents:function(){var t=V.prototype.getEvents.call(this);return D&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t='leaflet-tooltip '+(this.options.className||'')+' leaflet-zoom-'+(this._zoomAnimated?'animated':'hide');this._contentNode=this._container=r('div',t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var u=this._map,o=this._container,l=u.latLngToContainerPoint(u.getCenter()),c=u.layerPointToContainerPoint(t),s=this.options.direction,a=o.offsetWidth,h=o.offsetHeight,i=n(this.options.offset),r=this._getAnchor();'top'===s?t=t.add(n(-a/2+i.x,-h+i.y+r.y,!0)):'bottom'===s?t=t.subtract(n(a/2-i.x,-i.y,!0)):'center'===s?t=t.subtract(n(a/2+i.x,h/2-r.y+i.y,!0)):'right'===s||'auto'===s&&c.x<l.x?(s='right',t=t.add(n(i.x+r.x,r.y-h/2+i.y,!0))):(s='left',t=t.subtract(n(a+r.x-i.x,h/2-r.y-i.y,!0))),m(o,'leaflet-tooltip-right'),m(o,'leaflet-tooltip-left'),m(o,'leaflet-tooltip-top'),m(o,'leaflet-tooltip-bottom'),e(o,'leaflet-tooltip-'+s),v(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&S(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return n(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});s.include({openTooltip:function(t,i,e){return t instanceof lt||(t=new lt(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),C.include({bindTooltip:function(t,i){return t instanceof lt?(c(t,i),this._tooltip=t,t._source=this):(this._tooltip&&!i||(this._tooltip=new lt(i,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?'off':'on',i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),D&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,i){if(t instanceof C||(i=t,t=this),t instanceof it)for(var n in this._layers){t=this._layers[n];break};return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&&this._tooltip._container&&(e(this._tooltip._container,'leaflet-clickable'),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(m(this._tooltip._container,'leaflet-clickable'),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var i=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(i,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var i,e,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(i),n=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(n)}});var ke=pt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:'leaflet-div-icon'},createIcon:function(t){var i=t&&'DIV'===t.tagName?t:document.createElement('div'),e=this.options;if(i.innerHTML=!1!==e.html?e.html:'',e.bgPos){var o=n(e.bgPos);i.style.backgroundPosition=-o.x+'px '+-o.y+'px'};return this._setIconStyles(i,'icon'),i},createShadow:function(){return null}});pt.Default=bt;var It=C.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:'tilePane',className:'',keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),d(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ci(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement('div')},getTileSize:function(){var t=this.options.tileSize;return t instanceof i?t:new i(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n,o=this.getPane().children,i=-t(-1/0,1/0),e=0,s=o.length;e<s;e++)n=o[e].style.zIndex,o[e]!==this._container&&n&&(i=t(i,+n));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at){S(this._container,this.options.opacity);var s=+new Date,e=!1,n=!1;for(var o in this._tiles){var t=this._tiles[o];if(t.current&&t.loaded){var i=Math.min(1,(s-t.loaded)/200);S(t.el,i),i<1?e=!0:(t.active?n=!0:this._onOpaqueTile(t),t.active=!0)}};n&&!this._noPrune&&this._pruneTiles(),e&&(b(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=r('div','leaflet-layer '+(this.options.className||'')),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=o-Math.abs(e-i),this._onUpdateLevel(i)):(d(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var t=this._levels[e],n=this._map;return t||((t=this._levels[e]={}).el=r('div','leaflet-tile-container leaflet-zoom-animated',this._container),t.el.style.zIndex=o,t.origin=n.project(n.unproject(n.getPixelOrigin()),e).round(),t.zoom=e,this._setZoomTransform(t,n.getCenter(),n.getZoom()),t.el.offsetWidth,this._onCreateLevel(t)),this._level=t,t}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(i in this._tiles)(e=this._tiles[i]).retain=e.current;for(i in this._tiles)if((e=this._tiles[i]).current&&!e.active){var t=e.coords;this._retainParent(t.x,t.y,t.z,t.z-5)||this._retainChildren(t.x,t.y,t.z,t.z+2)};for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)d(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var a=Math.floor(t/2),h=Math.floor(e/2),r=n-1,u=new i(+a,+h);u.z=+r;var l=this._tileCoordsToKey(u),s=this._tiles[l];return s&&s.active?(s.retain=!0,!0):(s&&s.loaded&&(s.retain=!0),r>o&&this._retainParent(a,h,r,o))},_retainChildren:function(t,e,n,o){for(var a=2*t;a<2*t+2;a++)for(var r=2*e;r<2*e+2;r++){var h=new i(a,r);h.z=n+1;var u=this._tileCoordsToKey(h),s=this._tiles[u];s&&s.active?s.retain=!0:(s&&s.loaded&&(s.retain=!0),n+1<o&&this._retainChildren(a,r,n+1,o))}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,e,n){var o=this._clampZoom(Math.round(i));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0),Q=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!Q||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,i)},_setZoomTransform:function(t,i,e){var n=this._map.getZoomScale(e,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i,e)).round();z?et(t.el,o,n):v(t.el,o)},_resetGrid:function(){var i=this._map,t=i.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,t.wrapLng[0]],n).x/e.x),Math.ceil(i.project([0,t.wrapLng[1]],n).x/e.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([t.wrapLat[0],0],n).y/e.x),Math.ceil(i.project([t.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),s=i.getZoomScale(o,this._tileZoom),e=i.project(t,this._tileZoom).floor(),n=i.getSize().divideBy(2*s);return new f(e.subtract(n),e.add(n))},_update:function(t){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(void 0===t&&(t=u.getCenter()),void 0!==this._tileZoom){var g=this._getTiledPixelBounds(t),e=this._pxBoundsToTileRange(g),p=e.getCenter(),o=[],r=this.options.keepBuffer,v=new f(e.getBottomLeft().subtract([r,-r]),e.getTopRight().add([r,-r]));if(!(isFinite(e.min.x)&&isFinite(e.min.y)&&isFinite(e.max.x)&&isFinite(e.max.y)))throw new Error('Attempted to load an infinite number of tiles');for(var d in this._tiles){var h=this._tiles[d].coords;h.z===this._tileZoom&&v.contains(new i(h.x,h.y))||(this._tiles[d].current=!1)};if(Math.abs(m-this._tileZoom)>1)this._setView(t,m);else{for(var a=e.min.y;a<=e.max.y;a++)for(var n=e.min.x;n<=e.max.x;n++){var s=new i(n,a);if(s.z=this._tileZoom,this._isValidTile(s)){var c=this._tiles[this._tileCoordsToKey(s)];c?c.current=!0:o.push(s)}};if(o.sort(function(t,i){return t.distanceTo(p)-i.distanceTo(p)}),0!==o.length){this._loading||(this._loading=!0,this.fire('loading'));var l=document.createDocumentFragment();for(n=0;n<o.length;n++)this._addTile(o[n],l);this._level.el.appendChild(l)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1};if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return y(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,e=this.getTileSize(),n=t.scaleBy(e),o=n.add(e);return[i.unproject(n,t.z),i.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new P(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+':'+t.y+':'+t.z},_keyToTileCoords:function(t){var e=t.split(':'),n=new i(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var i=this._tiles[t];i&&(d(i.el),delete this._tiles[t],this.fire('tileunload',{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){e(t,'leaflet-tile');var i=this.getTileSize();t.style.width=i.x+'px',t.style.height=i.y+'px',t.onselectstart=w,t.onmousemove=w,at&&this.options.opacity<1&&S(t,this.options.opacity),ct&&!wt&&(t.style.WebkitBackfaceVisibility='hidden')},_addTile:function(t,i){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),e=this.createTile(this._wrapCoords(t),l(this._tileReady,this,t));this._initTile(e),this.createTile.length<2&&x(l(this._tileReady,this,t,null,e)),v(e,n),this._tiles[o]={el:e,coords:t,current:!0},i.appendChild(e),this.fire('tileloadstart',{tile:e,coords:t})},_tileReady:function(t,i,n){i&&this.fire('tileerror',{error:i,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(S(n.el,0),b(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i||(e(n.el,'leaflet-tile-loaded'),this.fire('tileload',{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire('load'),at||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new i(this._wrapX?Q(t.x,this._wrapX):t.x,this._wrapY?Q(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new f(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),mt=It.extend({options:{minZoom:0,maxZoom:18,subdomains:'abc',errorTileUrl:'',zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,i){this._url=t,(i=c(this,i)).detectRetina&&J&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),'string'==typeof i.subdomains&&(i.subdomains=i.subdomains.split('')),ct||this.on('tileunload',this._onTileRemove)},setUrl:function(t,i){return this._url===t&&void 0===i&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var e=document.createElement('img');return o(e,'load',l(this._tileOnLoad,this,i,e)),o(e,'error',l(this._tileOnError,this,i,e)),(this.options.crossOrigin||''===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?'':this.options.crossOrigin),e.alt='',e.setAttribute('role','presentation'),e.src=this.getTileUrl(t),e},getTileUrl:function(t){var i={r:J?'@2x':'',s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var e=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=e),i['-y']=e};return qe(this._url,u(i,this.options))},_tileOnLoad:function(t,i){at?setTimeout(l(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,e){var n=this.options.errorTileUrl;n&&i.getAttribute('src')!==n&&(i.src=n),t(e,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,e=this.options.zoomReverse,n=this.options.zoomOffset;return e&&(t=i-t),t+n},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var i,t;for(i in this._tiles)this._tiles[i].coords.z!==this._tileZoom&&((t=this._tiles[i].el).onload=w,t.onerror=w,t.complete||(t.src=qt,d(t),delete this._tiles[i]))},_removeTile:function(t){var i=this._tiles[t];if(i)return Pe||i.el.setAttribute('src',qt),It.prototype._removeTile.call(this,t)},_tileReady:function(t,i,e){if(this._map&&(!e||e.getAttribute('src')!==qt))return It.prototype._tileReady.call(this,t,i,e)}}),Be=mt.extend({defaultWmsParams:{service:'WMS',request:'GetMap',layers:'',styles:'',format:'image/jpeg',transparent:!1,version:'1.1.1'},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var e=u({},this.defaultWmsParams);for(var n in i)n in this.options||(e[n]=i[n]);var o=(i=c(this,i)).detectRetina&&J?2:1,s=this.getTileSize();e.width=s.x*o,e.height=s.y*o,this.wmsParams=e},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?'crs':'srs';this.wmsParams[i]=this._crs.code,mt.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),o=this._crs,s=k(o.project(n[0]),o.project(n[1])),i=s.min,e=s.max,a=(this._wmsVersion>=1.3&&this._crs===ze?[i.y,i.x,e.y,e.x]:[i.x,i.y,e.x,e.y]).join(','),r=mt.prototype.getTileUrl.call(this,t);return r+Je(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?'&BBOX=':'&bbox=')+a},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});mt.WMS=Be,ae.wms=function(t,i){return new Be(t,i)};var A=C.extend({options:{padding:.1,tolerance:0},initialize:function(t){c(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&e(this._container,'leaflet-zoom-animated')),this.getPane().appendChild(this._container),this._update(),this.on('update',this._updatePaths,this)},onRemove:function(){this.off('update',this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var e=this._map.getZoomScale(i,this._zoom),s=K(this._container),n=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,i),a=this._map.project(t,i).subtract(r),o=n.multiplyBy(-e).add(s).add(n).subtract(a);z?et(this._container,o,e):v(this._container,o)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),e=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new f(e,e.add(i.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ae=A.extend({getEvents:function(){var t=A.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){A.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement('canvas');o(t,'mousemove',ci(this._onMouseMove,32,this),this),o(t,'click dblclick mousedown mouseup contextmenu',this._onClick,this),o(t,'mouseout',this._handleMouseOut,this),this._ctx=t.getContext('2d')},_destroyContainer:function(){b(this._redrawRequest),delete this._ctx,d(this._container),g(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){A.prototype._update.call(this);var i=this._bounds,t=this._container,e=i.getSize(),n=J?2:1;v(t,i.min),t.width=n*e.x,t.height=n*e.y,t.style.width=e.x+'px',t.style.height=e.y+'px',J&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire('update')}},_reset:function(){A.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,i=n.next,e=n.prev;i?i.prev=e:this._drawLast=e,e?e.next=i:this._drawFirst=i,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if('string'==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)};t.options._dashArray=o}
else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new f,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}
else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()};this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var e,n,a,s,r=t._parts,h=r.length,o=this._ctx;if(h){for(o.beginPath(),e=0;e<h;e++){for(n=0,a=r[e].length;n<a;n++)s=r[e][n],o[n?'lineTo':'moveTo'](s.x,s.y);i&&o.closePath()};this._fillStroke(o,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var o=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),e=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==e&&(i.save(),i.scale(1,e)),i.beginPath(),i.arc(o.x,o.y/e,n,0,2*Math.PI,!1),1!==e&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,i){var e=i.options;e.fill&&(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||'evenodd')),e.stroke&&0!==e.weight&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var i,n,o=this._map.mouseEventToLayerPoint(t),e=this._drawFirst;e;e=e.next)(i=e.layer).options.interactive&&i._containsPoint(o)&&!this._map._draggableMoved(i)&&(n=i);n&&(Mi(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(m(this._container,'leaflet-interactive'),this._fireEvent([i],t,'mouseout'),this._hoveredLayer=null)},_handleMouseHover:function(t,i){for(var s,n,o=this._drawFirst;o;o=o.next)(s=o.layer).options.interactive&&s._containsPoint(i)&&(n=s);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(e(this._container,'leaflet-interactive'),this._fireEvent([n],t,'mouseover'),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,i,e){this._map._fireDOMEvent(i,e||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var e=i.next,n=i.prev;e&&(e.prev=n,n?n.next=e:e&&(this._drawFirst=e),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t))}},_bringToBack:function(t){var i=t._order;if(i){var n=i.next,e=i.prev;e&&(e.next=n,n?n.prev=e:e&&(this._drawLast=e),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t))}}}),Zt=function(){try{return document.namespaces.add('lvml','urn:schemas-microsoft-com:vml'),function(t){return document.createElement('<lvml:'+t+' class="lvml">')}}catch(t){return function(t){return document.createElement('<'+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ln={_initContainer:function(){this._container=r('div','leaflet-vml-container')},_update:function(){this._map._animatingZoom||(A.prototype._update.call(this),this.fire('update'))},_initPath:function(t){var i=t._container=Zt('shape');e(i,'leaflet-vml-shape '+(this.options.className||'')),i.coordsize='1 1',t._path=Zt('path'),i.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;d(i),t.removeInteractiveTarget(i),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Zt('stroke')),o.appendChild(e),e.weight=i.weight+'px',e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=N(i.dashArray)?i.dashArray.join(' '):i.dashArray.replace(/( *, *)/g,' '):e.dashStyle='',e.endcap=i.lineCap.replace('butt','flat'),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Zt('fill')),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?'M0 0':'AL '+i.x+','+i.y+' '+e+','+n+' 0,23592600')},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){xt(t._container)},_bringToBack:function(t){yt(t._container)}},ti=Ut?Zt:tn,At=A.extend({getEvents:function(){var t=A.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ti('svg'),this._container.setAttribute('pointer-events','none'),this._rootGroup=ti('g'),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){d(this._container),g(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){A.prototype._update.call(this);var i=this._bounds,t=i.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,e.setAttribute('width',t.x),e.setAttribute('height',t.y)),v(e,i.min),e.setAttribute('viewBox',[i.min.x,i.min.y,t.x,t.y].join(' ')),this.fire('update')}},_initPath:function(t){var i=t._path=ti('path');t.options.className&&e(i,t.options.className),t.options.interactive&&e(i,'leaflet-interactive'),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){d(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,e=t.options;i&&(e.stroke?(i.setAttribute('stroke',e.color),i.setAttribute('stroke-opacity',e.opacity),i.setAttribute('stroke-width',e.weight),i.setAttribute('stroke-linecap',e.lineCap),i.setAttribute('stroke-linejoin',e.lineJoin),e.dashArray?i.setAttribute('stroke-dasharray',e.dashArray):i.removeAttribute('stroke-dasharray'),e.dashOffset?i.setAttribute('stroke-dashoffset',e.dashOffset):i.removeAttribute('stroke-dashoffset')):i.setAttribute('stroke','none'),e.fill?(i.setAttribute('fill',e.fillColor||e.color),i.setAttribute('fill-opacity',e.fillOpacity),i.setAttribute('fill-rule',e.fillRule||'evenodd')):i.setAttribute('fill','none'))},_updatePoly:function(t,i){this._setPath(t,ge(t._parts,i))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n='a'+i+','+(Math.max(Math.round(t._radiusY),1)||i)+' 0 1,0 ',o=t._empty()?'M0 0':'M'+(e.x-i)+','+e.y+n+2*i+',0 '+n+2*-i+',0 ';this._setPath(t,o)},_setPath:function(t,i){t._path.setAttribute('d',i)},_bringToFront:function(t){xt(t._path)},_bringToBack:function(t){yt(t._path)}});Ut&&At.include(ln),s.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if('overlayPane'===t||void 0===t)return!1;var i=this._paneRenderers[t];return void 0===i&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&re(t)||Ue(t)}});var Ie=gt.extend({initialize:function(t,i){gt.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=y(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});At.create=ti,At.pointsToPath=ge,U.geometryToLayer=Pi,U.coordsToLatLng=Li,U.coordsToLatLngs=Yt,U.latLngToCoords=bi,U.latLngsToCoords=ni,U.getFeature=st,U.asFeature=Gt,s.mergeOptions({boxZoom:!0});var Oe=R.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on('unload',this._destroy,this)},addHooks:function(){o(this._container,'mousedown',this._onMouseDown,this)},removeHooks:function(){g(this._container,'mousedown',this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){d(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Mt(),pi(),this._startPoint=this._map.mouseEventToContainerPoint(t),o(document,{contextmenu:O,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=r('div','leaflet-zoom-box',this._container),e(this._container,'leaflet-crosshair'),this._map.fire('boxzoomstart')),this._point=this._map.mouseEventToContainerPoint(t);var i=new f(this._point,this._startPoint),n=i.getSize();v(this._box,i.min),this._box.style.width=n.x+'px',this._box.style.height=n.y+'px'},_finish:function(){this._moved&&(d(this._box),m(this._container,'leaflet-crosshair')),Tt(),zi(),g(document,{contextmenu:O,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var i=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire('boxzoomend',{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});s.addInitHook('addHandler','boxZoom',Oe),s.mergeOptions({doubleClickZoom:!0});var Re=R.extend({addHooks:function(){this._map.on('dblclick',this._onDoubleClick,this)},removeHooks:function(){this._map.off('dblclick',this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom(),n=i.options.zoomDelta,o=t.originalEvent.shiftKey?e-n:e+n;'center'===i.options.doubleClickZoom?i.setZoom(o):i.setZoomAround(t.containerPoint,o)}});s.addInitHook('addHandler','doubleClickZoom',Re),s.mergeOptions({dragging:!0,inertia:!wt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ne=R.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ot(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on('predrag',this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on('predrag',this._onPreDragWrap,this),t.on('zoomend',this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))};e(this._map._container,'leaflet-grab leaflet-touch-drag'),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){m(this._map._container,'leaflet-grab'),m(this._map._container,'leaflet-touch-drag'),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=y(this._map.options.maxBounds);this._offsetLimit=k(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}
else this._offsetLimit=null;t.fire('movestart').fire('dragstart'),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(i),this._prunePositions(i)};this._map.fire('move',t).fire('drag',t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),t=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+t)%e+i-t,s=(n+i+t)%e-i-t,r=Math.abs(o+t)<Math.abs(s+t)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var i=this._map,n=i.options,d=!n.inertia||this._times.length<2;if(i.fire('dragend',t),d)i.fire('moveend');else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=u.multiplyBy(o/l),r=s.distanceTo([0,0]),a=Math.min(n.inertiaMaxSpeed,r),c=s.multiplyBy(a/r),h=a/(n.inertiaDeceleration*o),e=c.multiplyBy(-h/2).round();e.x||e.y?(e=i._limitOffset(e,i.options.maxBounds),x(function(){i.panBy(e,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})})):i.fire('moveend')}}});s.addInitHook('addHandler','dragging',Ne),s.mergeOptions({keyboard:!0,keyboardPanDelta:80});var De=R.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex='0'),o(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),g(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,e=t.scrollTop||i.scrollTop,n=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(n,e)}},_onFocus:function(){this._focused=!0,this._map.fire('focus')},_onBlur:function(){this._focused=!1,this._map.fire('blur')},_setPanDelta:function(t){var i,e,o=this._panKeys={},n=this.keyCodes;for(i=0,e=n.left.length;i<e;i++)o[n.left[i]]=[-1*t,0];for(i=0,e=n.right.length;i<e;i++)o[n.right[i]]=[t,0];for(i=0,e=n.down.length;i<e;i++)o[n.down[i]]=[0,t];for(i=0,e=n.up.length;i<e;i++)o[n.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var i,e,o=this._zoomKeys={},n=this.keyCodes;for(i=0,e=n.zoomIn.length;i<e;i++)o[n.zoomIn[i]]=t;for(i=0,e=n.zoomOut.length;i<e;i++)o[n.zoomOut[i]]=-t},_addHooks:function(){o(document,'keydown',this._onKeyDown,this)},_removeHooks:function(){g(document,'keydown',this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o,e=t.keyCode,i=this._map;if(e in this._panKeys)i._panAnim&&i._panAnim._inProgress||(o=this._panKeys[e],t.shiftKey&&(o=n(o).multiplyBy(3)),i.panBy(o),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()};O(t)}}});s.addInitHook('addHandler','keyboard',De),s.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var je=R.extend({addHooks:function(){o(this._map._container,'mousewheel',this._onWheelScroll,this),this._delta=0},removeHooks:function(){g(this._map._container,'mousewheel',this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ee(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),i),O(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,s=n?Math.ceil(o/n)*n:o,e=t._limitZoom(i+(this._delta>0?s:-s))-i;this._delta=0,this._startTime=null,e&&('center'===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}});s.addInitHook('addHandler','scrollWheelZoom',je),s.mergeOptions({tap:!0,tapTolerance:15});var We=R.extend({addHooks:function(){o(this._map._container,'touchstart',this._onDown,this)},removeHooks:function(){g(this._map._container,'touchstart',this._onDown,this)},_onDown:function(t){if(t.touches){if(M(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],s=n.target;this._startPos=this._newPos=new i(n.clientX,n.clientY),s.tagName&&'a'===s.tagName.toLowerCase()&&e(s,'leaflet-active'),this._holdTimeout=setTimeout(l(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent('contextmenu',n))},this),1e3),this._simulateEvent('mousedown',n),o(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),g(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&'a'===i.tagName.toLowerCase()&&m(i,'leaflet-active'),this._simulateEvent('mouseup',e),this._isTapValid()&&this._simulateEvent('click',e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new i(e.clientX,e.clientY),this._simulateEvent('mousemove',e)},_simulateEvent:function(t,i){var e=document.createEvent('MouseEvents');e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}});D&&!B&&s.addInitHook('addHandler','tap',We),s.mergeOptions({touchZoom:D&&!wt,bounceAtZoomLimits:!0});var He=R.extend({addHooks:function(){e(this._map._container,'leaflet-touch-zoom'),o(this._map._container,'touchstart',this._onTouchStart,this)},removeHooks:function(){m(this._map._container,'leaflet-touch-zoom'),g(this._map._container,'touchstart',this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),'center'!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),o(document,'touchmove',this._onTouchMove,this),o(document,'touchend',this._onTouchEnd,this),M(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var i=this._map,o=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]),e=o.distanceTo(s)/this._startDist;if(this._zoom=i.getScaleZoom(e,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&e<1||this._zoom>i.getMaxZoom()&&e>1)&&(this._zoom=i._limitZoom(this._zoom)),'center'===i.options.touchZoom){if(this._center=this._startLatLng,1===e)return}
else{var n=o._add(s)._divideBy(2)._subtract(this._centerPoint);if(1===e&&0===n.x&&0===n.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)};this._moved||(i._moveStart(!0,!1),this._moved=!0),b(this._animRequest);var r=l(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=x(r,this,!0),M(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,b(this._animRequest),g(document,'touchmove',this._onTouchMove),g(document,'touchend',this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});s.addInitHook('addHandler','touchZoom',He),s.BoxZoom=Oe,s.DoubleClickZoom=Re,s.Drag=Ne,s.Keyboard=De,s.ScrollWheelZoom=je,s.Tap=We,s.TouchZoom=He,Object.freeze=en,t.version='1.4.0+HEAD.3337f36',t.Control=Z,t.control=St,t.Browser=zn,t.Evented=Bt,t.Mixin=un,t.Util=hn,t.Class=F,t.Handler=R,t.extend=u,t.bind=l,t.stamp=a,t.setOptions=c,t.DomEvent=Zn,t.DomUtil=Bn,t.PosAnimation=Le,t.Draggable=ot,t.LineUtil=xn,t.PolyUtil=Nn,t.Point=i,t.point=n,t.Bounds=f,t.bounds=k,t.Transformation=Ti,t.transformation=zt,t.Projection=Rn,t.LatLng=h,t.latLng=p,t.LatLngBounds=P,t.latLngBounds=y,t.CRS=H,t.GeoJSON=U,t.geoJSON=ne,t.geoJson=an,t.Layer=C,t.LayerGroup=ht,t.layerGroup=function(t,i){return new ht(t,i)},t.FeatureGroup=it,t.featureGroup=function(t){return new it(t)},t.ImageOverlay=xi,t.imageOverlay=function(t,i,e){return new xi(t,i,e)},t.VideoOverlay=Ze,t.videoOverlay=function(t,i,e){return new Ze(t,i,e)},t.DivOverlay=V,t.Popup=rt,t.popup=function(t,i){return new rt(t,i)},t.Tooltip=lt,t.tooltip=function(t,i){return new lt(t,i)},t.Icon=pt,t.icon=function(t){return new pt(t)},t.DivIcon=ke,t.divIcon=function(t){return new ke(t)},t.Marker=Nt,t.marker=function(t,i){return new Nt(t,i)},t.TileLayer=mt,t.tileLayer=ae,t.GridLayer=It,t.gridLayer=function(t){return new It(t)},t.SVG=At,t.svg=Ue,t.Renderer=A,t.Canvas=Ae,t.canvas=re,t.Path=G,t.CircleMarker=Kt,t.circleMarker=function(t,i){return new Kt(t,i)},t.Circle=fi,t.circle=function(t,i,e){return new fi(t,i,e)},t.Polyline=q,t.polyline=function(t,i){return new q(t,i)},t.Polygon=gt,t.polygon=function(t,i){return new gt(t,i)},t.Rectangle=Ie,t.rectangle=function(t,i){return new Ie(t,i)},t.Map=s,t.map=function(t,i){return new s(t,i)};var Pn=window.L;t.noConflict=function(){return window.L=Pn,this},window.L=t});